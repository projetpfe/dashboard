{% extends 'base.html' %}
{% load static %}

<script type="text/javascript">
function datePickerId(){
    datePickerId.max = new Date().toISOString().split("T")[0];
 
}
   
</script>
{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
       
        
        <div class="page-wrapper">
            
            
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                
                <div class="row ">
                    <div class="col-12">
                       
                       
                        <div class="card">
                          <div class="topnav">
                                
                            <div class="row">
                                <div class="col-12 align-items-center">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title"> Logs</h5>
                                            <div class="bd-example">
                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Type Logs</button>
                                                    <div class="dropdown-menu">
                                                        <a class="dropdown-item" href="warning">Warning</a>
                                                        <a class="dropdown-item" href="infor/">Info</a>
                                                        <a class="dropdown-item" href="error/">Error</a>
                                                        <a class="dropdown-item" href="debug/">Debug</a>
                                                    </div>
                                                </div>
                                                <!-- /btn-group -->
                                                
                                            
                                                    <div class="btn-group  ml-auto text-right">
                                                        <div class="btn-group  ml-auto text-right">
                                                            <form action='search_date' method='GET'>
                                                                <div class="btn-group  ml-auto text-right">
                                                                     <input type="date"  id="datePickerId" required name="q"  size="20">
                                                                    <button type='submit' class="btn btn-primary"><i class="fas fa-search"></i></button>
                                                                </div>
                                                              </form>
                                                        </div>
                                                    
                                                    </div>
                                                    
                                                
                                                <!-- /btn-group -->
                                                <!-- /btn-group -->
                                                <div class="btn-group">
                                                    
                                                    <div class="dropdown-menu">
                                                      <a class="dropdown-item" href="#">Action</a>
                                                      <a class="dropdown-item" href="#">Another action</a>
                                                      <a class="dropdown-item" href="#">Something else here</a>
                                                      <div class="dropdown-divider"></div>
                                                      <a class="dropdown-item" href="#">Separated link</a>
                                                    </div>
                                                </div>

                                                
                                                  
                                                <div class="btn-group">
                                                    <div class="dropdown-menu">
                                                        <a class="dropdown-item" href="#">Action</a>
                                                        <a class="dropdown-item" href="#">Another action</a>
                                                        <a class="dropdown-item" href="#">Something else here</a>
                                                        <div class="dropdown-divider"></div>
                                                        <a class="dropdown-item" href="#">Separated link</a>
                                                    </div>
                                                <!-- /btn-group -->
                                               
                                               
                                                  <form action='search' method='GET'>
                                                    <div class="btn-group  ml-auto text-right">
                                                       
                                                      <input type="search" id="maRecherche" required name="q" placeholder="Rechercher logs par host" size="20">
                                                      <button type='submit' class="btn btn-primary"><i class="fas fa-search"></i></button>
                                                    </div>
                                                  </form>
                                                </div>
                                            </div>
                                        </div>
                                      

                                    </div>
                                </div>
                            </div>

                
                             <div class="table-responsive">
                                
                                <table id="zero_config" class="table table-striped table-bordered">
                                   
                                     
                                        <thead>
                                            <tr>
                                              <th>Date Stamp</th>
                                              <th>Source</th>
                                              <th>Title</th>
                                              <th>Tags</th>
                                            </tr>
                                          </thead>
                                      
                                      
                                        {% for hit in logs %}
                                             <tbody>
                                                <tbody>
                                                    <tr>
                                                       <td>{{ hit["tag"] }}</td>
                                                        <td>{{ hit["host"] }}</td>
                                                        <td>{{ hit["hostname"] }}</td>
                                                        <td>{{ hit["code"] }}</td>
                                                        
                                                    </tr>
                                                  </tbody>

                                             </tbody> 
                                             {% endfor %}
                                    <!--<tbody>
                                        {% for log in data %}
                                            <tr>
                                                <td>{{log.source.tag}}</td>
                                                <td>{{log.source.tag}}</td>
                                                <td>{{log.source.tag}}</td>
                                                <td>{{log.source.tag}}</td>
                                                <td>{{log.source.tag}}</td>
                                                <td>{{log.source.tag}}</td>
                                                
                                            </tr>
                                            
                                        {% endfor %}      
                                    </tbody>-->
                                    
                                </table>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Right sidebar -->
                <!-- ============================================================== -->
                <!-- .right-sidebar -->
                <!-- ============================================================== -->
                <!-- End Right sidebar -->
                <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <footer class="footer text-center">
            </footer>
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script src="assets/libs/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="assets/libs/popper.js/dist/umd/popper.min.js"></script>
    <script src="assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
    <script src="assets/extra-libs/sparkline/sparkline.js"></script>
    <!--Wave Effects -->
    <script src="dist/js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="dist/js/sidebarmenu.js"></script>
    <!--Custom JavaScript -->
    <script src="dist/js/custom.min.js"></script>
    <!-- this page js -->
    <script src="assets/extra-libs/multicheck/datatable-checkbox-init.js"></script>
    <script src="assets/extra-libs/multicheck/jquery.multicheck.js"></script>
    <script src="assets/extra-libs/DataTables/datatables.min.js"></script>
    <script>
        /****************************************
         *       Basic Table                   *
         ****************************************/
        $('#zero_config').DataTable();
    </script>
    
{% endblock content %}
